<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wwb.demo.mapper.mapper.UserMapper">
  	<!-- 自定义sql -->
  	
  	
  	<select id="selectOneByObj" parameterType="com.wwb.demo.entity.User" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 05 17:49:33 CST 2018.
    -->
    select id, pwd, name, age
    from user
    where name = #{name,jdbcType=VARCHAR} and pwd = #{pwd,jdbcType=VARCHAR}
  	</select>
  	
  	<select id="listPage" parameterType="com.wwb.demo.dto.UserListDto"
          resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List"/>
    from user
    <where>
      <if test="name!=null and name!=''">
        and `name`like concat('%',#{name,jdbcType=VARCHAR},'%') 
      </if>
      <if test="id!=null">
        and `id` = #{id}
      </if>
      <if test="age!=null">
        and `age` = #{age}
      </if>
    </where>
    order by id desc
  </select>
  
</mapper>